<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Winner</title>
</head>

<body>
  <h1 id="winner">Winner: </h1>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <script src="abi.js"></script>
  <script src="js/web3Config.js"></script>
  <script>
    window.addEventListener("load", async () => {
      const { contract, account } = await initWeb3();

      const winner = await contract.methods.getWinner().call();
      document.getElementById("winner").innerText = "🏆 Winner: " + winner;

      const admin = await contract.methods.admin().call();
      if (account.toLowerCase() === admin.toLowerCase()) {
        document.getElementById("reset-btn").style.display = "inline-block";
        document.getElementById("reset-btn").addEventListener("click", () => {
          window.location.href = "reset.html";
        });
      }
    });
  </script>


  <div id="winner"></div>
  <button id="reset-btn" style="display:none;">🔁 Reset Election</button>

</body>

</html>